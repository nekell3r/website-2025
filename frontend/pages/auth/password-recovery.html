<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" >
    <script src="../../assets/js/auth-token.js" defer></script>
    <title>ВОССТАНОВЛЕНИЕ ПАРОЛЯ</title>
    <link rel="stylesheet" href="../../assets/css/style_passrec.css">
    <link rel="stylesheet" href="../../assets/css/style_basic.css">
    <style>
        body {
            display: flex;
            flex-direction: column; 
            justify-content: center; /* Центрирование по вертикали для flex-direction: column */
            align-items: center; /* Центрирование по горизонтали */
            font-family: Comic Sans MS, Comic Sans, cursive;
            margin:0px;
            padding: 0px;
            background-color: #3A3A3A;
            min-height: 100vh; /* Гарантирует, что body занимает всю высоту экрана */
            box-sizing: border-box; /* Чтобы padding и border не увеличивали общую высоту */
        }

        .recovery-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 500px; 
            padding: 20px;
            border-radius: 10px; 
            margin-top: auto; /* Для вертикального центрирования, если контента мало */
            margin-bottom: auto; /* Для вертикального центрирования, если контента мало */
        }

        .code-send-container {
            display: flex;
            align-items: center; 
            width: 80%;
            margin-bottom: 5px; 
        }

        .code-send-container .phone-input { /* Контейнер для поля ввода КОДА */
            width: 65%; /* Делаем поле кода короче, чтобы справа поместилась кнопка */
            margin-right: 10px; 
            margin-bottom: 0; /* Убираем нижний отступ, т.к. он у родительского .code-send-container */
        }

        .code-send-container .action-button-inline {
            color: #DA1984; /* Яркий розовый цвет */
            background: none;
            border: none;
            text-decoration: underline;
            cursor: pointer;
            padding: 0 5px; /* Небольшой горизонтальный паддинг */
            font-size: 1em; 
            font-weight: bold;
            white-space: nowrap; 
            line-height: normal; /* Для лучшего вертикального выравнивания с инпутом */
        }
        
        .form-footer {
            margin-top: 20px; 
            width: 80%; 
            display: flex; 
            justify-content: center;
        }

        .submit-icon-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
        }
        .submit-icon-btn img {
            width: 100px; /* Размер кнопки как в register.html (изначальный) */
        }

        .error-message {
            color: red;
            margin-top: 5px;
            font-size: 0.9em;
            width: 80%; /* Чтобы сообщение об ошибке не выходило за пределы формы */
            text-align: left; /* Выравнивание текста ошибки по левому краю */
        }
    </style>
</head>
<body>
    <div class="header2">
        <div class="logo">
            <a href="../../index.html"><img src="../../assets/img/злой рус.png" class="zloy" alt="Злой Русский"></a>
        </div>
        <div class="menu">
            <a href="../exams/oge.html">ОГЭ</a>
            <a href="../exams/ege.html">ЕГЭ</a>
            <a href="../materials/list.html"><b>МАТЕРИАЛЫ ДЛЯ УРОКОВ</b></a>
        </div>
        <div class="buttons">
            <button class="menu-button" onclick="toggleMenu()">
                <img src="../../assets/img/new_hambur.png"  alt="кнопка меню">
            </button>
        </div>
    </div>

    <div class="recovery-container">
        <h1 style="color: #DA1984;font-family: Comic Sans MS, Comic Sans, cursive;;">Восстановление пароля</h1>
        <br>
        <br>
    
        <div class="phone-input"> 
            <input type="text" style="font-family: Comic Sans MS, Comic Sans, cursive;"id="phone-input" class="phone-number" placeholder="Телефон">
        </div>
        <div id="phone-error" class="error-message"></div>

        <div class="code-send-container" style="translate: transformX(-10px)">
            <div class="phone-input" style="width: 40px"> 
                <input type="text" id="code-input" class="phone-number" style="font-family: Comic Sans MS, Comic Sans, cursive; width: 300px; transform: translateY(10px)" placeholder="Код из СМС"> 
            </div>
            <div class="form-footer"style="transform: translateX(100px)">
                <button type="button" id="submit-recovery" class="submit-icon-btn">
                    <img src="../../assets/img/кнопкарег.png" alt="Восстановить пароль">
                </button>
            </div>
        </div>
        

        <div id="code-error" class="error-message"></div> 
        <div id="send-code-error" class="error-message"></div>

        <div id="submit-error" class="error-message"></div>
    </div>
    <div style="color: white; border-bottom: 2px #DA1984 solid; margin-top: -20px">
        <a> Отправить код</a>
    </div>
    <br>
    <div style="display: flex; margin-top: 20px;">
        <b><h2 class="but_reg" style="font-family: Comic Sans MS, Comic Sans, cursive;">Еще не зарегистрированы?</h2></b>
        <a class="but_reg" href="register.html" style="color:#DA1984; margin-left: 30px; font-family: Comic Sans MS, Comic Sans, cursive;"><b><h2>Регистрация</h2></b></a>
    </div>
    <br>
    
    <div style="display: flex;">
        <b><h2 class="but_reg" style="font-family: Comic Sans MS, Comic Sans, cursive;">Хотите авторизоваться? </h2></b>
        <a class="but_reg" href="login.html" style="color:#DA1984; margin-left: 30px; font-family: Comic Sans MS, Comic Sans, cursive;"><b><h2>Авторизация</h2></b></a>
    </div>
    <br>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.6/jquery.inputmask.min.js"></script>
    <script src="../../assets/js/script.js"></script>
    <script src="../../assets/js/password-recovery.js" defer></script>
    <script src="../../assets/js/auth-toggle.js"></script>
    <script src="../../assets/js/reviews-redirect.js"></script>

    <footer class="the_end" style="padding-top: 10px">
        <h1 style="flex: 1; text-align: center;">Служебная информация</h1>
        <img src="../../assets/img/злой рус.png" class="zloy" alt="злой рус">
    </footer>
    
    <script>
        function toggleMenu() {
            var menu = document.getElementById("dropdown");
    menu.classList.toggle("active");
        }
    </script>

    <div class="dropdown" id="dropdown">
        <span class="close" onclick="toggleMenu()">&times;</span>
        <a href="#" id="auth-link">авторизация/личный кабинет</a>
        <a href="#" onclick="checkUserAndRedirect(event)">отзывы</a>
        <a href="../materials/questions.html">FAQ</a>
    </div>

    <script src="../../assets/js/reviews-redirect.js"></script>
    <script>
        document.getElementById('code-input').addEventListener('focus', function() {
  this.placeholder = '';
});

document.getElementById('code-input').addEventListener('blur', function() {
  if(this.value === '') {
    this.placeholder = 'Код из СМС';
  }
});
    </script>
</body>
</html>
